TARGET = MAIN

# Applicaion
OBJS = MAIN.OBJ
OBJS += _SCENE1.OBJ
OBJS += _SCENE2.OBJ
OBJS += _SCENE3.OBJ

# Museum Library
OBJS += ACTOR.OBJ
OBJS += DIRECTOR.OBJ
OBJS += MUSEUM.OBJ
OBJS += SCREEN.OBJ
OBJS += SPRITE.OBJ
OBJS += SCENE.OBJ
OBJS += TEXT.OBJ
OBJS += VEC.OBJ
OBJS += WAVPLAY.OBJ

OPTIONS = /i=MUSEUM\INC
OPTIONS += /i=MUSEUM\DEP

ALL: $(TARGET).EXE

# Applications
MAIN.OBJ: MAIN.CPP
	WPP386 $(OPTIONS) $<
_SCENE1.OBJ: _SCENE1.CPP
	WPP386 $(OPTIONS) $<
_SCENE2.OBJ: _SCENE2.CPP
	WPP386 $(OPTIONS) $<
_SCENE3.OBJ: _SCENE3.CPP
	WPP386 $(OPTIONS) $<

# Museum Library
ACTOR.OBJ: MUSEUM\SRC\ACTOR.CPP
	WPP386 $(OPTIONS) $<
DIRECTOR.OBJ: MUSEUM\SRC\DIRECTOR.CPP
	WPP386 $(OPTIONS) $<
MUSEUM.OBJ: MUSEUM\SRC\MUSEUM.CPP
	WPP386 $(OPTIONS) $<
SCREEN.OBJ: MUSEUM\SRC\SCREEN.CPP
	WPP386 $(OPTIONS) $<
SPRITE.OBJ: MUSEUM\SRC\SPRITE.CPP
	WPP386 $(OPTIONS) $<
SCENE.OBJ: MUSEUM\SRC\SCENE.CPP
	WPP386 $(OPTIONS) $<
TEXT.OBJ: MUSEUM\SRC\TEXT.CPP
	WPP386 $(OPTIONS) $<
VEC.OBJ: MUSEUM\DEP\VEC\VEC.C
	WPP386 $(OPTIONS) $<
WAVPLAY.OBJ: MUSEUM\DEP\WAVPLAY\WAVPLAY.C
	WPP386 $(OPTIONS) $<

$(TARGET).EXE: $(OBJS)
	%WRITE $(TARGET).LNK NAME $@
	%WRITE $(TARGET).LNK SYSTEM DOS4G
	%WRITE $(TARGET).LNK FILE {$(OBJS)}
	%WRITE $(TARGET).LNK LIBRARY MUSEUM\DEP\GAT_WC\GAT_WC_R.LIB
	WLINK @$(TARGET).LNK

CLEAN: .SYMBOLIC
	@DEL *.ERR 2> NUL
	@DEL *.OBJ 2> NUL
	@DEL $(TARGET).LNK 2> NUL
	@DEL $(TARGET).EXE 2> NUL
